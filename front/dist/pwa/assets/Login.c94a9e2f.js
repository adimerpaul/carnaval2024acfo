import{_ as m,S as u,T as p,U as t,X as l,V as e,aK as f,aU as n,Q as g,W as r,aJ as h}from"./index.f9705844.js";import{Q as v}from"./QPage.6b69eb30.js";import{a as d}from"./axios.535a39d8.js";const _={name:"LoginPage",data(){return{nickname:"",password:"",visiblePassword:!1,loading:!1}},mounted(){localStorage.getItem("tokenCarnaval")&&this.$router.push("/")},methods:{login(){this.loading=!0,d.post("/login",{nickname:this.nickname,password:this.password}).then(a=>{localStorage.setItem("tokenCarnaval",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),this.$router.push("/"),this.$store.isLogin=!0,this.$store.user=a.data.user,d.defaults.headers.common.Authorization=`Bearer ${a.data.token}`}).catch(a=>{console.log(a)}).finally(()=>{this.loading=!1})}}},k={class:"row"},w=l("div",{class:"col-12 col-md-3"},null,-1),b={class:"col-12 col-md-6"},C={class:"q-pa-md"},x=l("div",{class:"text-h6"},"Iniciar sesi\xF3n",-1),V=l("div",{class:"col-12 col-md-3"},null,-1);function y(a,o,P,Q,s,c){return u(),p(v,null,{default:t(()=>[l("div",k,[w,l("div",b,[l("div",C,[e(h,{class:"q-pa-md"},{default:t(()=>[e(f,{class:"q-pa-md"},{default:t(()=>[x,e(n,{class:"q-ma-xs",outlined:"",modelValue:s.nickname,"onUpdate:modelValue":o[0]||(o[0]=i=>s.nickname=i),label:"Nickname"},null,8,["modelValue"]),e(n,{class:"q-ma-xs",outlined:"",modelValue:s.password,"onUpdate:modelValue":o[2]||(o[2]=i=>s.password=i),label:"Contrase\xF1a",type:s.visiblePassword?"text":"password"},{append:t(()=>[e(g,{name:s.visiblePassword?"visibility_off":"visibility",onClick:o[1]||(o[1]=i=>s.visiblePassword=!s.visiblePassword)},null,8,["name"])]),_:1},8,["modelValue","type"]),e(r,{color:"primary",label:"Ingresar",onClick:c.login,class:"full-width q-ma-xs",loading:s.loading},null,8,["onClick","loading"]),e(r,{color:"primary",label:"Principal",onClick:o[3]||(o[3]=i=>a.$router.push("/")),class:"full-width q-ma-xs",outline:""})]),_:1})]),_:1})])]),V])]),_:1})}var B=m(_,[["render",y]]);export{B as default};
